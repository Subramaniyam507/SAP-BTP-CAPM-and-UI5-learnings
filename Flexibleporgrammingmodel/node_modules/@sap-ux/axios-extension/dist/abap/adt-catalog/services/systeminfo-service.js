"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.SystemInfoService = void 0;
const adt_service_1 = require("./adt-service");
/**
 * Retrieve system information using the ADT endpoint
 */
class SystemInfoService extends adt_service_1.AdtService {
    /**
     * Send ADT request to fetch ATO settings.
     *
     * @returns AtoSettings
     */
    async getSystemInfo() {
        const acceptHeaders = {
            headers: {
                Accept: 'application/vnd.sap.adt.core.http.systeminformation.v1+json'
            }
        };
        const response = await this.get('/sap/bc/adt/core/http/systeminformation', acceptHeaders);
        if (typeof response.data === 'string') {
            try {
                return JSON.parse(response.data);
            }
            catch (parseError) {
                this.log.error(`System info could not be parsed from response. Error: ${parseError.message}`);
            }
        }
        else {
            return response.data;
        }
    }
}
exports.SystemInfoService = SystemInfoService;
//# sourceMappingURL=systeminfo-service.js.map